# -*- coding: utf-8 -*-
"""EDA Indore Dataset

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1l3TA-vjTx4odb4G4DSTQjN8QsbhIsILt
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

df = pd.read_csv("ai companies in indore_GMS_output.csv")
df

df.describe()

df.count()

df.isnull()

df.isna().sum()

df.isnull().sum()

df.duplicated().sum()

df

df.head(2)

for i in df.columns:

    df[i] = df[i].astype(str)


    if df[i].str.contains("\[").any():
        df[i] = df[i].str.split("[").str[1].str.split("]").str[0]

df.head()

df["Total Reviews"] = df["Total Reviews"].str.split('-').str[1]

df["Total Reviews"] = df["Total Reviews"].str.replace(",", "").str.strip()
df["Total Reviews"] = pd.to_numeric(df["Total Reviews"], errors='coerce')

df['Total Reviews']

df.head()

df.isnull().sum()

df["Total Reviews"]

df["Total Reviews"] = df["Total Reviews"].fillna(0)
df["Total Reviews"]

df.isnull().sum()

df["Booking Links"] = df["Booking Links"].fillna("NAN")
df["Booking Links"]

df.head()

Location = df['Address'].str.split(',').str[-3].str.strip()
Location

location_counts = Location.value_counts()
location_counts

plt.figure(figsize = (20,5))
location_counts.plot(kind = 'bar')

plt.xlabel('Location')
plt.ylabel('No of Companies')
plt.title('No of Companies in each Location')

plt.xticks(rotation = 50)
plt.show()

def categorize_company(name):
    name_lower = str(name).lower()
    if any(keyword in name_lower for keyword in ['ai', 'ml', 'artificial intelligence', 'machine learning']):
        return 'AI/ML'
    elif any(keyword in name_lower for keyword in ['data analytics', 'analytics', 'data']):
        return 'Data Analytics'
    elif 'software' in name_lower:
        return 'Software'
    else:
        return 'Other'

df['Tech Domain'] = df['Name'].apply(categorize_company)
df.head(10)

domain_count = df['Tech Domain'].value_counts()
domain_count

plt.figure(figsize = (10,6))


plt.pie(domain_count, labels = domain_count.index, autopct = '%1.1f%%')
plt.title('No of Companies in each Tech Domain')
plt.show()

'''1.location on the basis of ,
2.categories
    1.ai ml
    2.software
    3.data analytics
'''

catagorie_count= df['Category'].value_counts()
catagorie_count

import matplotlib.pyplot as plt
import seaborn as sns

x=catagorie_count.index
y=catagorie_count.values

plt.figure(figsize=(10, 4))
plt.bar(x,y ,color='blue')

plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

df['location'] = df['Address'].str.split(",").str[-3]

df.head()

reviews =df["Total Reviews"]
rating =df["Rating"]

plt.scatter(reviews, rating)

# Add labels and title
plt.xlabel('reviews')
plt.ylabel('ratings')
plt.title('Reviews vs Ratings')

# Display the plot
plt.show()

df[df["Total Reviews"]>2000]

outlier= df[df["Total Reviews"]>2000]
df_clened= df[df["Total Reviews"]<=2000]

df['Rating']= df['Rating'].astype(float)

df_clened_ratings= df[df["Rating"]>=3.25]
outlier_rating= df[df["Rating"]<3.25]

location_data =df['location']
list_location = df['location'].count()

# //data['location'].value_counts()

for i in list_location:
  if i =="Pardesipura":
    print(i.value)

x=df_clened["Total Reviews"]
y=df_clened_ratings["Rating"]

plt.scatter(x,y)

# Add labels and title
plt.xlabel('reviews')
plt.ylabel('ratings')
plt.title('Reviews vs Ratings')

# Display the plot
plt.show()

